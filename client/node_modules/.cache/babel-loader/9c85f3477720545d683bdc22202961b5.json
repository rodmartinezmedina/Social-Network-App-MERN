{"ast":null,"code":"import React,{Fragment}from\"react\";import{Link}from\"react-router-dom\";import Moment from\"react-moment\";import{connect}from\"react-redux\";import{addLike,removeLike,deletePost}from\"../../actions/post\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,userImg=_ref$post.userImg,showActions=_ref.showActions,profile=_ref.profile;return/*#__PURE__*/React.createElement(\"div\",{className:\"post bg-white p-1 my-1\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(user)},/*#__PURE__*/React.createElement(\"img\",{className:\"round-img\",src:userImg?userImg:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"h4\",null,name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"my-1\"},text),/*#__PURE__*/React.createElement(\"p\",{className:\"post-date\"},\"Posted on \",/*#__PURE__*/React.createElement(Moment,{format:\"DD/MM/YYYY\"},date)),showActions&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),\" \",/*#__PURE__*/React.createElement(\"span\",null,likes.length>0&&/*#__PURE__*/React.createElement(\"span\",null,likes.length))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-down\"})),/*#__PURE__*/React.createElement(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\"},\"Discussion\",\" \",comments.length>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"comment-count\"},comments.length)),!auth.loading&&user===auth.user._id&&/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})))));};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/Users/rodrigomac/WEB-DEVELOPMENT/REACT-PROJECTS/Social-Network-App-MERN/client/src/components/posts/PostItem.js"],"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","userImg","showActions","profile","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,KAAgD,oBAAhD,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MASX,IARJH,CAAAA,OAQI,MARJA,OAQI,CAPJC,UAOI,MAPJA,UAOI,CANJC,UAMI,MANJA,UAMI,CALJE,IAKI,MALJA,IAKI,gBAJJC,IAII,CAJIC,GAIJ,WAJIA,GAIJ,CAJSC,IAIT,WAJSA,IAIT,CAJeC,IAIf,WAJeA,IAIf,CAJqBC,MAIrB,WAJqBA,MAIrB,CAJ6BC,IAI7B,WAJ6BA,IAI7B,CAJmCC,KAInC,WAJmCA,KAInC,CAJ0CC,QAI1C,WAJ0CA,QAI1C,CAJoDC,IAIpD,WAJoDA,IAIpD,CAJ0DC,OAI1D,WAJ0DA,OAI1D,CAHJC,WAGI,MAHJA,WAGI,CAFJC,OAEI,MAFJA,OAEI,CACJ,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACE,4CACE,oBAAC,IAAD,EAAM,EAAE,oBAAcN,IAAd,CAAR,eACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAEI,OAAO,CAAGA,OAAH,CAAaL,MAApD,CAA4D,GAAG,CAAC,EAAhE,EADF,cAEE,8BAAKD,IAAL,CAFF,CADF,CADF,cAOE,4CACE,yBAAG,SAAS,CAAC,MAAb,EAAqBD,IAArB,CADF,cAEE,yBAAG,SAAS,CAAC,WAAb,4BACY,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BM,IAA7B,CADZ,CAFF,CAMGE,WAAW,eACV,oBAAC,QAAD,mBACE,8BACE,OAAO,CAAE,iBAACE,CAAD,QAAOjB,CAAAA,OAAO,CAACM,GAAD,CAAd,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,eAKE,yBAAG,SAAS,CAAC,kBAAb,EALF,CAKuC,GALvC,cAME,gCAAOK,KAAK,CAACO,MAAN,CAAe,CAAf,eAAoB,gCAAOP,KAAK,CAACO,MAAb,CAA3B,CANF,CADF,cASE,8BACE,OAAO,CAAE,iBAACD,CAAD,QAAOhB,CAAAA,UAAU,CAACK,GAAD,CAAjB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,eAKE,yBAAG,SAAS,CAAC,oBAAb,EALF,CATF,cAgBE,oBAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,CAA2B,SAAS,CAAC,iBAArC,eACa,GADb,CAEGM,QAAQ,CAACM,MAAT,CAAkB,CAAlB,eACC,4BAAM,SAAS,CAAC,eAAhB,EAAiCN,QAAQ,CAACM,MAA1C,CAHJ,CAhBF,CAuBG,CAACd,IAAI,CAACe,OAAN,EAAiBT,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eACC,8BACE,OAAO,CAAE,iBAACW,CAAD,QAAOf,CAAAA,UAAU,CAACI,GAAD,CAAjB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,gBAHZ,eAKE,yBAAG,SAAS,CAAC,cAAb,EALF,CAxBJ,CAPJ,CAPF,CADF,CAoDD,CA9DD,CAgEAH,QAAQ,CAACiB,YAAT,CAAwB,CACtBL,WAAW,CAAE,IADS,CAAxB,CAYA,GAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClClB,IAAI,CAAEkB,KAAK,CAAClB,IADsB,CAAZ,EAAxB,CAIA,cAAeL,CAAAA,OAAO,CAACsB,eAAD,CAAkB,CAAErB,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAVA,UAAX,CAAuBC,UAAU,CAAVA,UAAvB,CAAlB,CAAP,CACbC,QADa,CAAf","sourcesContent":["import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { addLike, removeLike, deletePost } from \"../../actions/post\";\n\nconst PostItem = ({\n  addLike,\n  removeLike,\n  deletePost,\n  auth,\n  post: { _id, text, name, avatar, user, likes, comments, date, userImg },\n  showActions,\n  profile,\n  // userImg,\n}) => {\n  return (\n    <div className=\"post bg-white p-1 my-1\">\n      <div>\n        <Link to={`/profile/${user}`}>\n          <img className=\"round-img\" src={userImg ? userImg : avatar} alt=\"\" />\n          <h4>{name}</h4>\n        </Link>\n      </div>\n      <div>\n        <p className=\"my-1\">{text}</p>\n        <p className=\"post-date\">\n          Posted on <Moment format=\"DD/MM/YYYY\">{date}</Moment>\n        </p>\n\n        {showActions && (\n          <Fragment>\n            <button\n              onClick={(e) => addLike(_id)}\n              type=\"button\"\n              className=\"btn btn-light\"\n            >\n              <i className=\"fas fa-thumbs-up\"></i>{\" \"}\n              <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n            </button>\n            <button\n              onClick={(e) => removeLike(_id)}\n              type=\"button\"\n              className=\"btn btn-light\"\n            >\n              <i className=\"fas fa-thumbs-down\"></i>\n            </button>\n            <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n              Discussion{\" \"}\n              {comments.length > 0 && (\n                <span className=\"comment-count\">{comments.length}</span>\n              )}\n            </Link>\n            {/* user is the post creator. auth.user._id is the logged in user */}\n            {!auth.loading && user === auth.user._id && (\n              <button\n                onClick={(e) => deletePost(_id)}\n                type=\"button\"\n                className=\"btn btn-danger\"\n              >\n                <i className=\"fas fa-times\"></i>\n              </button>\n            )}\n          </Fragment>\n        )}\n      </div>\n    </div>\n  );\n};\n\nPostItem.defaultProps = {\n  showActions: true,\n};\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  addLike: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\n  PostItem\n);\n"]},"metadata":{},"sourceType":"module"}